{"workflow":{"nodes":[{"name":"create_realign_target","cmd":"java -jar #GATK3# -T RealignerTargetCreator -R #REF# -I <#SAMPLE_NAME#.dedupped.bam> -o [#SAMPLE_NAME#.realigner.intervals] #GATK3_REALIGN_PARAS#"},{"name":"indel_realign","cmd":"java -jar #GATK3# -T IndelRealigner -R #REF# -I <#SAMPLE_NAME.dedupped.bam> -targetIntervals <#SAMPLE_NAME#.realigner.intervals> -o [#SAMPLE_NAME#.realigned.bam] #GATK3_REALIGN_PARAS#"},{"name":"baserecalibrate","cmd":"#GATK4# BaseRecalibrator -R #REF# -I <#SAMPLE_NAME#.realigned.bam> -O [#SAMPLE_NAME#.baserecal.grp] #GATK4_BASERECALIBRATE_PARAMS#"},{"name":"apply_bqsr","cmd":"#GATK4# ApplyBQSR -R #REF# -I <#SAMPLE_NAME#.realigned.bam> --bqsr-recal-file <#SAMPLE_NAME#.baserecal.grp> -O [#SAMPLE_NAME#.bqsr.bam]"},{"name":"bwa","cmd":"#BWA# mem -t #THREAD# -M -R #RG# #REF# <#R1#> <#R2#> | #SAMTOOLS# view -Shb -o [#SAMPLE_NAME#.bwa.bam] -"},{"name":"sort_sam","cmd":"java -jar #PICARD# SortSam INPUT=<#SAMPLE_NAME#.bwa.bam> OUTPUT=[#SAMPLE_NAME#.sort.bam] SORT_ORDER=coordinate TMP_DIR=#SAMPLE_NAME#.picard.tmp"},{"name":"mark_deduplicate","cmd":"java -jar #PICARD# MarkDuplicates INPUT=<#SAMPLE_NAME#.sort.bam> OUTPUT=[#SAMPLE_NAME#.dedupped.bam] METRICS_FILE=#SAMPLE_NAME#.dedupped.metrics VALIDATION_STRINGENCY=STRICT CREATE_INDEX=true REMOVE_DUPLICATES=true TMP_DIR=#SAMPLE_NAME#.picard.tmp"}],"links":[{"from":"Step-sort_sam","to":"Step-mark_deduplicate","frompid":"#SAMPLE_NAME#.sort.bam","topid":"#SAMPLE_NAME#.sort.bam"},{"from":"Step-mark_deduplicate","to":"Step-create_realign_target","frompid":"#SAMPLE_NAME#.dedupped.bam","topid":"#SAMPLE_NAME#.dedupped.bam"},{"from":"Step-bwa","to":"Step-sort_sam","frompid":"#SAMPLE_NAME#.bwa.bam","topid":"#SAMPLE_NAME#.bwa.bam"},{"from":"Step-create_realign_target","to":"Step-indel_realign","frompid":"#SAMPLE_NAME#.realigner.intervals","topid":"#SAMPLE_NAME#.realigner.intervals"},{"from":"Step-mark_deduplicate","to":"Step-indel_realign","frompid":"#SAMPLE_NAME#.dedupped.bam","topid":"#SAMPLE_NAME.dedupped.bam"},{"from":"Step-indel_realign","to":"Step-baserecalibrate","frompid":"#SAMPLE_NAME#.realigned.bam","topid":"#SAMPLE_NAME#.realigned.bam"},{"from":"Step-indel_realign","to":"Step-apply_bqsr","frompid":"#SAMPLE_NAME#.realigned.bam","topid":"#SAMPLE_NAME#.realigned.bam"},{"from":"Step-baserecalibrate","to":"Step-apply_bqsr","frompid":"#SAMPLE_NAME#.baserecal.grp","topid":"#SAMPLE_NAME#.baserecal.grp"}]},"macros":{"GATK3":"","GATK3_REALIGN_PARAS":"","GATK4_BASERECALIBRATE_PARAMS":"","GATK4":"","BWA":"","THREAD":"","RG":"","REF":"","R1":"","R2":"","SAMTOOLS":"","TMP":"","PICARD":"","SAMPLE_NAME":""}}
